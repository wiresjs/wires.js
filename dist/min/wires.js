var isarray=_.isArray;!function(){function e(e){for(var t,r=[],i=0,a=0,o="";null!=(t=l.exec(e));){var s=t[0],c=t[1],u=t.index;if(o+=e.slice(a,u),a=u+s.length,c)o+=c[1];else{o&&(r.push(o),o="");var f=t[2],p=t[3],h=t[4],d=t[5],m=t[6],v=t[7],g="+"===m||"*"===m,y="?"===m||"*"===m,w=f||"/",b=h||d||(v?".*":"[^"+w+"]+?");r.push({name:p||i++,prefix:f||"",delimiter:w,optional:y,repeat:g,pattern:n(b)})}}return a<e.length&&(o+=e.substr(a)),o&&r.push(o),r}function t(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function n(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(e,t){return e.keys=t,e}function i(e){return e.sensitive?"":"i"}function a(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return r(e,t)}function o(e,t,n){for(var a=[],o=0;o<e.length;o++)a.push(u(e[o],t,n).source);var s=new RegExp("(?:"+a.join("|")+")",i(n));return r(s,t)}function s(t,n,i){for(var a=e(t),o=c(a,i),s=0;s<a.length;s++)"string"!=typeof a[s]&&n.push(a[s]);return r(o,n)}function c(e,n){n=n||{};for(var r=n.strict,a=n.end!==!1,o="",s=e[e.length-1],c="string"==typeof s&&/\/$/.test(s),u=0;u<e.length;u++){var l=e[u];if("string"==typeof l)o+=t(l);else{var f=t(l.prefix),p=l.pattern;l.repeat&&(p+="(?:"+f+p+")*"),p=l.optional?f?"(?:"+f+"("+p+"))?":"("+p+")?":f+"("+p+")",o+=p}}return r||(o=(c?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=a?"$":r&&c?"":"(?=\\/|$)",new RegExp("^"+o,i(n))}function u(e,t,n){return t=t||[],isarray(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?a(e,t,n):isarray(e)?o(e,t,n):s(e,t,n)}window.pathToRegexp=u;var l=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")}();var Wires=Wires||{};!function(){var e=function(e,t){var n,r=this;n=e&&_.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},_.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&_.extend(n.prototype,e),n.__super__=r.prototype,n.prototype.__parent__=function(e,t){n.__super__[e].apply(n.prototype,t)},n},t=function(e,t){this.initialize&&this.initialize.apply(this,arguments)};t.extend=e,Wires.Class=t}(),function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t,n){"use strict";function r(e){function t(e){return null===c?void l.push(e):void o(function(){var t=c?e.onFulfilled:e.onRejected;if(null===t)return void(c?e.resolve:e.reject)(u);var n;try{n=t(u)}catch(r){return void e.reject(r)}e.resolve(n)})}function n(e){try{if(e===f)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void a(t.bind(e),n,r)}c=!0,u=e,s()}catch(i){r(i)}}function r(e){c=!1,u=e,s()}function s(){for(var e=0,n=l.length;n>e;e++)t(l[e]);l=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var c=null,u=null,l=[],f=this;this.then=function(e,n){return new f.constructor(function(r,a){t(new i(e,n,r,a))})},a(e,n,r)}function i(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}var o=e("asap");t.exports=r},{asap:4}],3:[function(e,t,n){"use strict";function r(e){this.then=function(t){return"function"!=typeof t?this:new i(function(n,r){a(function(){try{n(t(e))}catch(i){r(i)}})})}}var i=e("./core.js"),a=e("asap");t.exports=i,r.prototype=i.prototype;var o=new r(!0),s=new r(!1),c=new r(null),u=new r(void 0),l=new r(0),f=new r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return c;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return s;if(0===e)return l;if(""===e)return f;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return new r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(e){r(a,e)},n)}t[a]=o,0===--i&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":2,asap:4}],4:[function(e,t,n){(function(e){function n(){for(;i.next;){i=i.next;var e=i.task;i.task=void 0;var t=i.domain;t&&(i.domain=void 0,t.enter());try{e()}catch(r){if(c)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),r;setTimeout(function(){throw r},0)}t&&t.exit()}o=!1}function r(t){a=a.next={task:t,domain:c&&e.domain,next:null},o||(o=!0,s())}var i={task:void 0,next:null},a=i,o=!1,s=void 0,c=!1;if("undefined"!=typeof e&&e.nextTick)c=!0,s=function(){e.nextTick(n)};else if("function"==typeof setImmediate)s="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=n,s=function(){u.port2.postMessage(0)}}else s=function(){setTimeout(n,0)};t.exports=r}).call(this,e("_process"))},{_process:1}],5:[function(e,t,n){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})})},{}],6:[function(e,t,n){e("asap");"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6]),function(e){function t(e){var t=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,n=/([^\s,]+)/g,r=e.toString().replace(t,""),i=r.slice(r.indexOf("(")+1,r.indexOf(")")).match(n);return null===i&&(i=[]),i}var n={};e.domain={constructModel:function(e,t,n){var r=new t;this.require({source:t.prototype.init,target:r.init,instance:r},e).then(function(e){n(null,r)})["catch"](function(e){n(e)})},getInputArguments:function(e){var t={};if(t.localServices={},e.length>0){if(t.source=e[0],t.target=e[0],_.isPlainObject(e[0])){var n=e[0];t.target=n.target,t.source=n.source,t.instance=n.instance}if(e.length>1){var r=_.isString(e[0])||_.isArray(e[0]);r?(t.source=_.isArray(e[0])?e[0]:_.isString(e[0])?[e[0]]:e[0],_.isFunction(e[1])&&(t.target=e[1]),_.isFunction(e[2])&&(t.target=e[2])):(_.isFunction(e[1])&&(t.callReady=e[1]),_.isPlainObject(e[1])&&(t.localServices=e[1]))}3===e.length&&(_.isPlainObject(e[1])&&(t.localServices=e[1]),_.isFunction(e[2])&&(t.callReady=e[2]))}return t.target=t.target||function(){},t.source=t.source?t.source:t.target,t.callReady=t.callReady||function(){},t},service:function(){this.register.apply(this,arguments)},register:function(e,t,r){var i=null,a=t;_.isArray(t)&&(i=t,a=r),n[e]={target:a,args:i}},requirePackage:function(e){var t={};return this.each(n,function(n,r){var i=r.split(".")[0];return i===e?domain.require([r],function(e){t[r]=e}):void 0}).then(function(){return t})},require:function(){var e=this.getInputArguments(arguments),r=this,i=e.localServices,a=_.isArray(e.source)?e.source:t(e.source),o=e.target,s=(e.callReady,e.instance),c=n,r=this,u=new Promise(function(t,n){var u=[],l=_.merge(i,c);for(var f in a){var p=(a[f],a[f]);if(!l[p])return console.error("Error while injecting variable '"+p+"' into function \n"+e.source.toString()),n({status:500,message:"Service with name '"+p+"' was not found "});u.push(l[p])}return r.each(u,function(e){var t=e.target,n=e.args;if(_.isFunction(t)){var a=[];return a=n?[n,i,t]:[t,i],r.require.apply(r,a)}return t}).then(function(e){return delete r,o.apply(s||e,e)}).then(t)["catch"](n)});return u},isServiceRegistered:function(e){return void 0!==n[e]},each:function(e,t){return new Promise(function(n,r){var i=[],a=_.isPlainObject(e),o=-1,s=function(){if(o++,!(o<_.size(e)))return n(i);var c,u;a?(c=_.keys(e)[o],u=e[c]):(c=o,u=e[o]);var l=t.call(t,u,c);l instanceof Promise?l.then(function(e){i.push(e),s()})["catch"](r):(i.push(l),s())};s()})}}}(window),!function(e){function t(e){var t=e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in e);return void 0===t||a.call(e,t)},n.each=function(e,n,r){var i,a=0,o=e.length,s=t(e);if(r){if(s)for(;o>a&&(i=n.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=n.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=n.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=n.call(e[a],a,e[a]),i===!1)break;return e},n.data=function(e,t,i){if(void 0===i){var a=e[n.expando],o=a&&r[a];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var a=e[n.expando]||(e[n.expando]=++n.uuid);return r[a]=r[a]||{},r[a][t]=i,i}},n.removeData=function(e,t){var i=e[n.expando],a=i&&r[i];a&&n.each(t,function(e,t){delete a[t]})},n.extend=function(){var e,t,r,i,a,o,s=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[c]||{},c++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),c===u&&(s=this,c--);u>c;c++)if(null!=(a=arguments[c]))for(i in a)e=s[i],r=a[i],s!==r&&(l&&r&&(n.isPlainObject(r)||(t=n.isArray(r)))?(t?(t=!1,o=e&&n.isArray(e)?e:[]):o=e&&n.isPlainObject(e)?e:{},s[i]=n.extend(l,o,r)):void 0!==r&&(s[i]=r));return s},n.queue=function(e,r,i){function a(e,n){var r=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e}(r,"string"==typeof e?[e]:e):[].push.call(r,e)),r}if(e){r=(r||"fx")+"queue";var o=n.data(e,r);return i?(!o||n.isArray(i)?o=n.data(e,r,a(i)):o.push(i),o):o||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,r){t=t||"fx";var i=n.queue(r,t),a=i.shift();"inprogress"===a&&(a=i.shift()),a&&("fx"===t&&i.unshift("inprogress"),a.call(r,function(){n.dequeue(r,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),r=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return r.top-=parseFloat(t.style.marginTop)||0,r.left-=parseFloat(t.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var r={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var i={},a=i.hasOwnProperty,o=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<s.length;c++)i["[object "+s[c]+"]"]=s[c].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,n,r){function i(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function a(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function o(e){var t=p.data(e,"velocity");return null===t?r:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function c(e,n,r,i){function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function c(e,t,n){return((a(t,n)*e+o(t,n))*e+s(t))*e}function u(e,t,n){return 3*a(t,n)*e*e+2*o(t,n)*e+s(t)}function l(t,n){for(var i=0;m>i;++i){var a=u(n,e,r);if(0===a)return n;var o=c(n,e,r)-t;n-=o/a}return n}function f(){for(var t=0;w>t;++t)S[t]=c(t*b,e,r)}function p(t,n,i){var a,o,s=0;do o=n+(i-n)/2,a=c(o,e,r)-t,a>0?i=o:n=o;while(Math.abs(a)>g&&++s<y);return o}function h(t){for(var n=0,i=1,a=w-1;i!=a&&S[i]<=t;++i)n+=b;--i;var o=(t-S[i])/(S[i+1]-S[i]),s=n+o*b,c=u(s,e,r);return c>=v?l(t,s):0==c?s:p(t,n,n+b)}function d(){_=!0,(e!=n||r!=i)&&f()}var m=4,v=.001,g=1e-7,y=10,w=11,b=1/(w-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var $=0;4>$;++$)if("number"!=typeof arguments[$]||isNaN(arguments[$])||!isFinite(arguments[$]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var S=x?new Float32Array(w):new Array(w),_=!1,k=function(t){return _||d(),e===n&&r===i?t:0===t?0:1===t?1:c(h(t),n,i)};k.getControlPoints=function(){return[{x:e,y:n},{x:r,y:i}]};var P="generateBezier("+[e,n,r,i]+")";return k.toString=function(){return P},k}function u(e,t){var n=e;return m.isString(e)?w.Easings[e]||(n=!1):n=m.isArray(e)&&1===e.length?s.apply(null,e):m.isArray(e)&&2===e.length?b.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?c.apply(null,e):!1,n===!1&&(n=w.Easings[w.defaults.easing]?w.defaults.easing:y),n}function l(e){if(e){var t=(new Date).getTime(),n=w.State.calls.length;n>1e4&&(w.State.calls=i(w.State.calls));for(var a=0;n>a;a++)if(w.State.calls[a]){var s=w.State.calls[a],c=s[0],u=s[2],h=s[3],d=!!h,v=null;h||(h=w.State.calls[a][3]=t-16);for(var g=Math.min((t-h)/u.duration,1),y=0,b=c.length;b>y;y++){var $=c[y],_=$.element;if(o(_)){var k=!1;if(u.display!==r&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var P=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(P,function(e,t){x.setPropertyValue(_,"display",t)})}x.setPropertyValue(_,"display",u.display)}u.visibility!==r&&"hidden"!==u.visibility&&x.setPropertyValue(_,"visibility",u.visibility);for(var C in $)if("element"!==C){var V,T=$[C],A=m.isString(T.easing)?w.Easings[T.easing]:T.easing;if(1===g)V=T.endValue;else{var E=T.endValue-T.startValue;if(V=T.startValue+E*A(g,u,E),!d&&V===T.currentValue)continue}if(T.currentValue=V,"tween"===C)v=V;else{if(x.Hooks.registered[C]){var j=x.Hooks.getRoot(C),F=o(_).rootPropertyValueCache[j];F&&(T.rootPropertyValue=F)}var L=x.setPropertyValue(_,C,T.currentValue+(0===parseFloat(V)?"":T.unitType),T.rootPropertyValue,T.scrollData);x.Hooks.registered[C]&&(o(_).rootPropertyValueCache[j]=x.Normalizations.registered[j]?x.Normalizations.registered[j]("extract",null,L[1]):L[1]),"transform"===L[0]&&(k=!0)}}u.mobileHA&&o(_).transformCache.translate3d===r&&(o(_).transformCache.translate3d="(0px, 0px, 0px)",k=!0),k&&x.flushTransformCache(_)}}u.display!==r&&"none"!==u.display&&(w.State.calls[a][2].display=!1),u.visibility!==r&&"hidden"!==u.visibility&&(w.State.calls[a][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],g,Math.max(0,h+u.duration-t),h,v),1===g&&f(a)}}w.State.isTicking&&S(l)}function f(e,t){if(!w.State.calls[e])return!1;for(var n=w.State.calls[e][0],i=w.State.calls[e][1],a=w.State.calls[e][2],s=w.State.calls[e][4],c=!1,u=0,l=n.length;l>u;u++){var f=n[u].element;if(t||a.loop||("none"===a.display&&x.setPropertyValue(f,"display",a.display),"hidden"===a.visibility&&x.setPropertyValue(f,"visibility",a.visibility)),a.loop!==!0&&(p.queue(f)[1]===r||!/\.velocityQueueEntryFlag/i.test(p.queue(f)[1]))&&o(f)){o(f).isAnimating=!1,o(f).rootPropertyValueCache={};var h=!1;p.each(x.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,i=o(f).transformCache[t];o(f).transformCache[t]!==r&&new RegExp("^\\("+n+"[^.]").test(i)&&(h=!0,delete o(f).transformCache[t])}),a.mobileHA&&(h=!0,delete o(f).transformCache.translate3d),h&&x.flushTransformCache(f),x.Values.removeClass(f,"velocity-animating")}if(!t&&a.complete&&!a.loop&&u===l-1)try{a.complete.call(i,i)}catch(d){setTimeout(function(){throw d},1)}s&&a.loop!==!0&&s(i),o(f)&&a.loop===!0&&!t&&(p.each(o(f).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),w(f,"reverse",{loop:!0,delay:a.delay})),a.queue!==!1&&p.dequeue(f,a.queue)}w.State.calls[e]=!1;for(var m=0,v=w.State.calls.length;v>m;m++)if(w.State.calls[m]!==!1){c=!0;break}c===!1&&(w.State.isTicking=!1,delete w.State.calls,w.State.calls=[])}var p,h=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return r}(),d=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,r=(new Date).getTime();return n=Math.max(0,16-(r-e)),e=r+n,setTimeout(function(){t(r+n)},n)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==r&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},v=!1;if(e.fn&&e.fn.jquery?(p=e,v=!0):p=t.Velocity.Utilities,8>=h&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=h)return void(jQuery.fn.velocity=jQuery.fn.animate);var g=400,y="swing",w={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:g,easing:y,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){p.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==r?(w.State.scrollAnchor=t,w.State.scrollPropertyLeft="pageXOffset",w.State.scrollPropertyTop="pageYOffset"):(w.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,w.State.scrollPropertyLeft="scrollLeft",w.State.scrollPropertyTop="scrollTop");var b=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},a=t(n,.5*r,i),o=t(n,.5*r,a),s=t(n,r,o),c=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+c*r,n.v=n.v+u*r,n}return function r(e,t,i){var a,o,s,c={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1e-4,p=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,c.tension=e,c.friction=t,a=null!==i,a?(l=r(e,t),o=l/i*p):o=p;s=n(s||c,o),u.push(1+s.x),l+=16,Math.abs(s.x)>f&&Math.abs(s.v)>f;);return a?function(e){return u[e*(u.length-1)|0]}:l}}();w.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){w.Easings[t[0]]=c.apply(null,t[1])});var x=w.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,r,i;if(h)for(n in x.Hooks.templates){r=x.Hooks.templates[n],i=r[0].split(" ");var a=r[1].match(x.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),a.push(a.shift()),x.Hooks.templates[n]=[i.join(" "),a.join(" ")])}for(n in x.Hooks.templates){r=x.Hooks.templates[n],i=r[0].split(" ");for(var e in i){var o=n+i[e],s=e;x.Hooks.registered[o]=[n,s]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=x.Hooks.registered[e];if(n){var r=n[0],i=n[1];return t=x.Hooks.cleanRootPropertyValue(r,t),t.toString().match(x.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,n){var r=x.Hooks.registered[e];if(r){var i,a,o=r[0],s=r[1];return n=x.Hooks.cleanRootPropertyValue(o,n),i=n.toString().match(x.RegEx.valueSplit),i[s]=t,a=i.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:(r=n.toString().match(x.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):n),r;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return w.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=h)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=h||w.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,n,i){switch(e){case"name":return"transform";case"extract":return o(n)===r||o(n).transformCache[t]===r?/^scale/i.test(t)?1:0:o(n).transformCache[t].replace(/[()]/g,"");case"inject":var a=!1;switch(t.substr(0,t.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":w.State.isAndroid&&o(n).transformCache[t]===r&&1>i&&(i=1),a=!/(\d)$/i.test(i);break;case"skew":a=!/(deg|\d)$/i.test(i);break;case"rotate":a=!/(deg|\d)$/i.test(i)}return a||(o(n).transformCache[t]="("+i+")"),o(n).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,n,i){switch(e){case"name":return t;case"extract":var a;if(x.RegEx.wrappedValueAlreadyExtracted.test(i))a=i;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?o=s[i]!==r?s[i]:s.black:x.RegEx.isHex.test(i)?o="rgb("+x.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(o=s.black),a=(o||i).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=h||3!==a.split(" ").length||(a+=" 1"),a;case"inject":return 8>=h?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=h?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||w.State.isAndroid&&!w.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(w.State.prefixMatches[e])return[w.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;r>n;n++){var i;if(i=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(w.State.prefixElement.style[i]))return w.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,r){return t+t+n+n+r+r}),t=r.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,i,a){function s(e,n){function i(){u&&x.setPropertyValue(e,"display","none")}var c=0;if(8>=h)c=p.css(e,n);else{var u=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(e,"display")&&(u=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!a){if("height"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var l=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return i(),l}if("width"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return i(),f}}var d;d=o(e)===r?t.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),c=9===h&&"filter"===n?d.getPropertyValue(n):d[n],(""===c||null===c)&&(c=e.style[n]),i()}if("auto"===c&&/^(top|right|bottom|left)$/i.test(n)){var m=s(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(c=p(e).position()[n]+"px")}return c}var c;if(x.Hooks.registered[n]){var u=n,l=x.Hooks.getRoot(u);i===r&&(i=x.getPropertyValue(e,x.Names.prefixCheck(l)[0])),x.Normalizations.registered[l]&&(i=x.Normalizations.registered[l]("extract",e,i)),c=x.Hooks.extractValue(u,i)}else if(x.Normalizations.registered[n]){var f,d;f=x.Normalizations.registered[n]("name",e),"transform"!==f&&(d=s(e,x.Names.prefixCheck(f)[0]),x.Values.isCSSNullValue(d)&&x.Hooks.templates[n]&&(d=x.Hooks.templates[n][1])),c=x.Normalizations.registered[n]("extract",e,d)}if(!/^[\d-]/.test(c))if(o(e)&&o(e).isSVG&&x.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{c=e.getBBox()[n]}catch(m){c=0}else c=e.getAttribute(n);else c=s(e,x.Names.prefixCheck(n)[0]);return x.Values.isCSSNullValue(c)&&(c=0),w.debug>=2&&console.log("Get "+n+": "+c),c},setPropertyValue:function(e,n,r,i,a){var s=n;if("scroll"===n)a.container?a.container["scroll"+a.direction]=r:"Left"===a.direction?t.scrollTo(r,a.alternateValue):t.scrollTo(a.alternateValue,r);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",e))x.Normalizations.registered[n]("inject",e,r),s="transform",r=o(e).transformCache[n];else{if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(n);i=i||x.getPropertyValue(e,u),r=x.Hooks.injectValue(c,r,i),n=u}if(x.Normalizations.registered[n]&&(r=x.Normalizations.registered[n]("inject",e,r),n=x.Normalizations.registered[n]("name",e)),s=x.Names.prefixCheck(n)[0],8>=h)try{e.style[s]=r}catch(l){w.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else o(e)&&o(e).isSVG&&x.Names.SVGAttribute(n)?e.setAttribute(n,r):e.style[s]=r;w.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var n="";if((h||w.State.isAndroid&&!w.State.isChrome)&&o(e).isSVG){
var r={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};p.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(n+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var i,a;p.each(o(e).transformCache,function(t){return i=o(e).transformCache[t],"transformPerspective"===t?(a=i,!0):(9===h&&"rotateZ"===t&&(t="rotate"),void(n+=t+i+" "))}),a&&(n="perspective"+a+" "+n)}x.setPropertyValue(e,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),w.hook=function(e,t,n){var i=r;return e=a(e),p.each(e,function(e,a){if(o(a)===r&&w.init(a),n===r)i===r&&(i=w.CSS.getPropertyValue(a,t));else{var s=w.CSS.setPropertyValue(a,t,n);"transform"===s[0]&&w.CSS.flushTransformCache(a),i=s}}),i};var $=function(){function e(){return s?C.promise||null:c}function i(){function e(e){function f(e,t){var n=r,i=r,o=r;return m.isArray(e)?(n=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||x.RegEx.isHex.test(e[1])?o=e[1]:(m.isString(e[1])&&!x.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(i=t?e[1]:u(e[1],s.duration),e[2]!==r&&(o=e[2]))):n=e,t||(i=i||s.easing),m.isFunction(n)&&(n=n.call(a,_,S)),m.isFunction(o)&&(o=o.call(a,_,S)),[n||0,i,o]}function h(e,t){var n,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=x.Values.getUnitType(e)),[r,n]}function g(){var e={myParent:a.parentNode||n.body,position:x.getPropertyValue(a,"position"),fontSize:x.getPropertyValue(a,"fontSize")},r=e.position===L.lastPosition&&e.myParent===L.lastParent,i=e.fontSize===L.lastFontSize;L.lastParent=e.myParent,L.lastPosition=e.position,L.lastFontSize=e.fontSize;var s=100,c={};if(i&&r)c.emToPx=L.lastEmToPx,c.percentToPxWidth=L.lastPercentToPxWidth,c.percentToPxHeight=L.lastPercentToPxHeight;else{var u=o(a).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");w.init(u),e.myParent.appendChild(u),p.each(["overflow","overflowX","overflowY"],function(e,t){w.CSS.setPropertyValue(u,t,"hidden")}),w.CSS.setPropertyValue(u,"position",e.position),w.CSS.setPropertyValue(u,"fontSize",e.fontSize),w.CSS.setPropertyValue(u,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){w.CSS.setPropertyValue(u,t,s+"%")}),w.CSS.setPropertyValue(u,"paddingLeft",s+"em"),c.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(u,"width",null,!0))||1)/s,c.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(u,"height",null,!0))||1)/s,c.emToPx=L.lastEmToPx=(parseFloat(x.getPropertyValue(u,"paddingLeft"))||1)/s,e.myParent.removeChild(u)}return null===L.remToPx&&(L.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),c.remToPx=L.remToPx,c.vwToPx=L.vwToPx,c.vhToPx=L.vhToPx,w.debug>=1&&console.log("Unit ratios: "+JSON.stringify(c),a),c}if(s.begin&&0===_)try{s.begin.call(d,d)}catch(b){setTimeout(function(){throw b},1)}if("scroll"===V){var $,k,P,T=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?m.isWrapped(s.container)||m.isNode(s.container)?(s.container=s.container[0]||s.container,$=s.container["scroll"+T],P=$+p(a).position()[T.toLowerCase()]+A):s.container=null:($=w.State.scrollAnchor[w.State["scrollProperty"+T]],k=w.State.scrollAnchor[w.State["scrollProperty"+("Left"===T?"Top":"Left")]],P=p(a).offset()[T.toLowerCase()]+A),c={scroll:{rootPropertyValue:!1,startValue:$,currentValue:$,endValue:P,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:T,alternateValue:k}},element:a},w.debug&&console.log("tweensContainer (scroll): ",c.scroll,a)}else if("reverse"===V){if(!o(a).tweensContainer)return void p.dequeue(a,s.queue);"none"===o(a).opts.display&&(o(a).opts.display="auto"),"hidden"===o(a).opts.visibility&&(o(a).opts.visibility="visible"),o(a).opts.loop=!1,o(a).opts.begin=null,o(a).opts.complete=null,y.easing||delete s.easing,y.duration||delete s.duration,s=p.extend({},o(a).opts,s);var E=p.extend(!0,{},o(a).tweensContainer);for(var j in E)if("element"!==j){var F=E[j].startValue;E[j].startValue=E[j].currentValue=E[j].endValue,E[j].endValue=F,m.isEmptyObject(y)||(E[j].easing=s.easing),w.debug&&console.log("reverse tweensContainer ("+j+"): "+JSON.stringify(E[j]),a)}c=E}else if("start"===V){var E;o(a).tweensContainer&&o(a).isAnimating===!0&&(E=o(a).tweensContainer),p.each(v,function(e,t){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(e)){var n=f(t,!0),i=n[0],a=n[1],o=n[2];if(x.RegEx.isHex.test(i)){for(var s=["Red","Green","Blue"],c=x.Values.hexToRgb(i),u=o?x.Values.hexToRgb(o):r,l=0;l<s.length;l++){var p=[c[l]];a&&p.push(a),u!==r&&p.push(u[l]),v[e+s[l]]=p}delete v[e]}}});for(var z in v){var N=f(v[z]),q=N[0],R=N[1],H=N[2];z=x.Names.camelCase(z);var I=x.Hooks.getRoot(z),W=!1;if(o(a).isSVG||"tween"===I||x.Names.prefixCheck(I)[1]!==!1||x.Normalizations.registered[I]!==r){(s.display!==r&&null!==s.display&&"none"!==s.display||s.visibility!==r&&"hidden"!==s.visibility)&&/opacity|filter/.test(z)&&!H&&0!==q&&(H=0),s._cacheValues&&E&&E[z]?(H===r&&(H=E[z].endValue+E[z].unitType),W=o(a).rootPropertyValueCache[I]):x.Hooks.registered[z]?H===r?(W=x.getPropertyValue(a,I),H=x.getPropertyValue(a,z,W)):W=x.Hooks.templates[I][1]:H===r&&(H=x.getPropertyValue(a,z));var M,D,U,B=!1;if(M=h(z,H),H=M[0],U=M[1],M=h(z,q),q=M[0].replace(/^([+-\/*])=/,function(e,t){return B=t,""}),D=M[1],H=parseFloat(H)||0,q=parseFloat(q)||0,"%"===D&&(/^(fontSize|lineHeight)$/.test(z)?(q/=100,D="em"):/^scale/.test(z)?(q/=100,D=""):/(Red|Green|Blue)$/i.test(z)&&(q=q/100*255,D="")),/[\/*]/.test(B))D=U;else if(U!==D&&0!==H)if(0===q)D=U;else{i=i||g();var G=/margin|padding|left|right|width|text|word|letter/i.test(z)||/X$/.test(z)||"x"===z?"x":"y";switch(U){case"%":H*="x"===G?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:H*=i[U+"ToPx"]}switch(D){case"%":H*=1/("x"===G?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:H*=1/i[D+"ToPx"]}}switch(B){case"+":q=H+q;break;case"-":q=H-q;break;case"*":q=H*q;break;case"/":q=H/q}c[z]={rootPropertyValue:W,startValue:H,currentValue:H,endValue:q,unitType:D,easing:R},w.debug&&console.log("tweensContainer ("+z+"): "+JSON.stringify(c[z]),a)}else w.debug&&console.log("Skipping ["+I+"] due to a lack of browser support.")}c.element=a}c.element&&(x.Values.addClass(a,"velocity-animating"),O.push(c),""===s.queue&&(o(a).tweensContainer=c,o(a).opts=s),o(a).isAnimating=!0,_===S-1?(w.State.calls.push([O,d,s,null,C.resolver]),w.State.isTicking===!1&&(w.State.isTicking=!0,l())):_++)}var i,a=this,s=p.extend({},w.defaults,y),c={};switch(o(a)===r&&w.init(a),parseFloat(s.delay)&&s.queue!==!1&&p.queue(a,s.queue,function(e){w.velocityQueueEntryFlag=!0,o(a).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=g;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}w.mock!==!1&&(w.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(w.mock)||1,s.delay*=parseFloat(w.mock)||1)),s.easing=u(s.easing,s.duration),s.begin&&!m.isFunction(s.begin)&&(s.begin=null),s.progress&&!m.isFunction(s.progress)&&(s.progress=null),s.complete&&!m.isFunction(s.complete)&&(s.complete=null),s.display!==r&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=w.CSS.Values.getDisplayType(a))),s.visibility!==r&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&w.State.isMobile&&!w.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():p.queue(a,s.queue,function(t,n){return n===!0?(C.promise&&C.resolver(d),!0):(w.velocityQueueEntryFlag=!0,void e(t))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===p.queue(a)[0]||p.dequeue(a)}var s,c,h,d,v,y,b=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(s=!1,h=0,d=this,c=this):(s=!0,h=1,d=b?arguments[0].elements||arguments[0].e:arguments[0]),d=a(d)){b?(v=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(v=arguments[h],y=arguments[h+1]);var S=d.length,_=0;if(!/^(stop|finish)$/i.test(v)&&!p.isPlainObject(y)){var k=h+1;y={};for(var P=k;P<arguments.length;P++)m.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?m.isString(arguments[P])||m.isArray(arguments[P])?y.easing=arguments[P]:m.isFunction(arguments[P])&&(y.complete=arguments[P]):y.duration=arguments[P]}var C={promise:null,resolver:null,rejecter:null};s&&w.Promise&&(C.promise=new w.Promise(function(e,t){C.resolver=e,C.rejecter=t}));var V;switch(v){case"scroll":V="scroll";break;case"reverse":V="reverse";break;case"finish":case"stop":p.each(d,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer)});var T=[];return p.each(w.State.calls,function(e,t){t&&p.each(t[1],function(n,i){var a=y===r?"":y;return a===!0||t[2].queue===a||y===r&&t[2].queue===!1?void p.each(d,function(n,r){r===i&&((y===!0||m.isString(y))&&(p.each(p.queue(r,m.isString(y)?y:""),function(e,t){m.isFunction(t)&&t(null,!0)}),p.queue(r,m.isString(y)?y:"",[])),"stop"===v?(o(r)&&o(r).tweensContainer&&a!==!1&&p.each(o(r).tweensContainer,function(e,t){t.endValue=t.currentValue}),T.push(e)):"finish"===v&&(t[2].duration=1))}):!0})}),"stop"===v&&(p.each(T,function(e,t){f(t,!0)}),C.promise&&C.resolver(d)),e();default:if(!p.isPlainObject(v)||m.isEmptyObject(v)){if(m.isString(v)&&w.Redirects[v]){var A=p.extend({},y),E=A.duration,j=A.delay||0;return A.backwards===!0&&(d=p.extend(!0,[],d).reverse()),p.each(d,function(e,t){parseFloat(A.stagger)?A.delay=j+parseFloat(A.stagger)*e:m.isFunction(A.stagger)&&(A.delay=j+A.stagger.call(t,e,S)),A.drag&&(A.duration=parseFloat(E)||(/^(callout|transition)/.test(v)?1e3:g),A.duration=Math.max(A.duration*(A.backwards?1-e/S:(e+1)/S),.75*A.duration,200)),w.Redirects[v].call(t,t,A||{},e,S,d,C.promise?C:r)}),e()}var F="Velocity: First argument ("+v+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(F)):console.log(F),e()}V="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];p.each(d,function(e,t){m.isNode(t)&&i.call(t)});var z,A=p.extend({},w.defaults,y);if(A.loop=parseInt(A.loop),z=2*A.loop-1,A.loop)for(var N=0;z>N;N++){var q={delay:A.delay,progress:A.progress};N===z-1&&(q.display=A.display,q.visibility=A.visibility,q.complete=A.complete),$(d,"reverse",q)}return e()}};w=p.extend($,w),w.animate=$;var S=t.requestAnimationFrame||d;return w.State.isMobile||n.hidden===r||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(e){return setTimeout(function(){e(!0)},16)},l()):S=t.requestAnimationFrame||d}),e.Velocity=w,e!==t&&(e.fn.velocity=$,e.fn.velocity.defaults=w.defaults),p.each(["Down","Up"],function(e,t){w.Redirects["slide"+t]=function(e,n,i,a,o,s){var c=p.extend({},n),u=c.begin,l=c.complete,f={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},h={};c.display===r&&(c.display="Down"===t?"inline"===w.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),c.begin=function(){u&&u.call(o,o);for(var n in f){h[n]=e.style[n];var r=w.CSS.getPropertyValue(e,n);f[n]="Down"===t?[r,0]:[0,r]}h.overflow=e.style.overflow,e.style.overflow="hidden"},c.complete=function(){for(var t in h)e.style[t]=h[t];l&&l.call(o,o),s&&s.resolver(o)},w(e,f,c)}}),p.each(["In","Out"],function(e,t){w.Redirects["fade"+t]=function(e,n,i,a,o,s){var c=p.extend({},n),u={opacity:"In"===t?1:0},l=c.complete;c.complete=i!==a-1?c.begin=null:function(){l&&l.call(o,o),s&&s.resolver(o)},c.display===r&&(c.display="In"===t?"auto":"none"),w(this,u,c)}}),w}(window.jQuery||window.Zepto||window,window,document)}),function(){RegExp.prototype.execAll=function(e){for(var t=null,n=new Array;t=this.exec(e);){var r=[];for(i in t)parseInt(i)==i&&r.push(t[i]);n.push(r)}return n}}(),function(){window.isMobile=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(window.isMobile=!0)}(),function(){Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,t){var n=this[e],r=n,i=function(){return r},a=function(i){return n=r,r=t.call(this,e,n,i)};delete this[e]&&Object.defineProperty(this,e,{get:i,set:a,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var t=this[e];delete this[e],this[e]=t}});for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),a=window.setTimeout(function(){t(r+i)},i);return e=r+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),window.$defered=function(e){window.requestAnimationFrame(function(){e()})}}(),function(){domain.service("$evaluate",["$watch","$pathObject","$exec","$proxy"],function(e,t,n,r){return function(i,a){var a=a||[],o=a.scope||{},s=a.target,c=a.changed,u=void 0!==a.watchVariables?a.watchVariables:!0,l=[],f=function(){var e=i.tpl,a=[],u=[];_.each(i.vars,function(r,i){var c;r.p?(path=t(r.p,o),c=path.value,u.push({path:r.p,value:path})):r.e&&(c=n.expression(r.e,o,s),a.push({str:r.e,value:c})),c=void 0===c?"":c,e=e.split(i).join(c)});for(var f in i.x){var p=i.x[f],h=r.exec(p,o);e=e.split(f).join(h)}for(var f in i.funcs){var d=i.funcs[f],m=t(d.p,o).value;if(_.isFunction(m)){var v=n.func(d.f,o,s);e=e.split(f).join(void 0!==v?v:"")}else e=e.split(f).join("")}var g={str:e,expressions:a,locals:u,detach:function(){_.each(l,function(e){e.remove()})}};return _.isFunction(c)&&c(g),g};if(u){var p={},h=function(e){_.each(e,function(e){if(e.p){var t=e.p.join(".");p[t]||(p[t]=e)}e.e&&h(e.v)})};h(i.vars),_.each(i.x,function(t){var n=r.getProxy(t);if(n){var i=e("_changed",n,function(e,t){f()});l.push(i)}}),_.each(p,function(t){var n=e(t.p,o,function(e,t){$defered(function(){f()})});n&&l.push(n)})}return f()}})}(),function(){var _cache={},getFunctionFromString=function(stringFunction){var userFunc;return _cache[stringFunction]?userFunc=_cache[stringFunction]:(userFunc=eval("(function($, target){ return "+stringFunction+"})"),_cache[stringFunction]=userFunc),_cache[stringFunction]};domain.service("$exec",["$pathObject"],function(e){return{func:function(e,t,n){var r=getFunctionFromString(e),i=r.bind(t)(t,n);return i},expression:function(e,t,n){var r=getFunctionFromString(e),i=r.bind(t)(t,n);return i}}})}(),function(){var e;$(function(){var t=document.querySelector("body");e=new MutationObserver(function(e){e.forEach(function(e){e.removedNodes&&_.each(e.removedNodes,function(e){e.$tag&&e.$tag&&e.$tag.gc&&e.$tag.gc(!0)})})});var n={childList:!0,subtree:!0};e.observe(t,n)})}(),function(){domain.service("$loadView",function(){return function(e){return new Promise(function(t,n){return t(window.__wires_views__[e]?window.__wires_views__[e]:[])})}})}(),function(){domain.service("$pathObject",function(){return function(e,t){_.isArray(e)||(e=e.split("."));var n=t,r=null;return _.each(e,function(t,i){e.length-1===i?r=t:void 0!==n[t]?n=n[t]:(n[t]={},n=n[t])}),{update:function(e){return n[r]=e,e},value:n[r],property:r,instance:n}}})}(),function(){var e={};domain.service("$proxy",["$projectProxies"],function(t){return{getProxy:function(n){var r=n.n,i=t[r];if(i){var a=e[r];return a||(a=e[r]=new i),a}},exec:function(e,t){var n=this.getProxy(e);return n?n.get(e.k,t):""}}})}(),function(){domain.service("$run",["TagNode","TextNode","Repeater","Conditional","Include"],function(e,t,n,r,i){var a=function(o){o=o||{};var s=o.structure||[],c=o.target||document.querySelector("section"),u=o.scope||{},l=function(o,s){_.each(o,function(o){var c;if(1===o.t&&(c=new t(o,u),c.create(s)),2===o.t){c=new e(o,u);{c.create(s)}o.c&&l(o.c,c)}if(3===o.t){new n({run:a,item:o,parent:s,scope:u})}if(4===o.t){new r({run:a,item:o,parent:s,scope:u})}if(5===o.t){var f=new i({run:a,item:o,parent:s,scope:u,createElements:l});f.create(s)}})},f=o.parentNode||new e(c);return f.element||f.setElement(c),l(s,f),f};return a})}(),function(){domain.service("$watch",["$pathObject","$array","$projectProxies"],function(e,t,n){return function(n,r,i){var a=e(n,r),o=a.instance,s=a.property;return o.$watchers||(o.$watchers={}),_.isArray(o)&&(o=t(o)),_.isObject(o)||!_.isString(s)?(o.$watchers[s]||(o.$watchers[s]=[]),i&&o.$watchers[s].push(i),1===o.$watchers[s].length&&o.watch(s,function(e,t,n){return _.each(o.$watchers[s],function(e){void 0!==o.$changed&&o.$changed(s,t,n),e(t,n)}),n}),{remove:function(){o.$watchers[s].indexOf(i)},removeAll:function(){o.unwatch(s),delete o.$watchers}}):void 0}})}(),domain.service("validators.testEmail",function(){return{cls:"ws-failed",validate:function(e){var t=/(.+)@(.+){2,}\.(.+){2,}/.test(this.str);return t?void 0:"Email is not valid"}}}),function(){domain.service("$restEndPoint",function(){return function(e,t){var t=t||{},n=e.split("/"),r=[];return _.each(n,function(e){var n=e.match(/:(.+)/);n?t.hasOwnProperty(n[1])&&r.push(t[n[1]]):r.push(e)}),r.join("/")}})}(),domain.service("WiresValidation",function(){return Wires.Class.extend({initialize:function(){this.msg="",this.cls=""},email:function(e){return!e||e.test(/^([\w._]+)@([\w_]+)\.([a-z]+)$/)?{msg:"Invalid email",cls:"ws-invalid"}:void 0}})}),function(){var e;domain.service("$customAttributes",function(){return e?e:new Promise(function(t,n){domain.requirePackage("attrs").then(function(n){return e=n,t(e)})})})}(),function(){domain.service("$form",function(){return function(){var e={};return e.$normalize=function(t){var n={};return _.isString(t)?t:_.isNumber(t)?t:_.isBoolean(t)?t:(_.each(t,function(t,r){void 0!==t&&_.isString(r)&&(r.match(/^(\$|_)/)||(_.isArray(t)?(n[r]=[],_.each(t,function(t){n[r].push(e.$normalize(t))})):n[r]=_.isPlainObject(t)?e.$normalize(t):t instanceof Date?t:e.$normalize(t)))}),n)},e.$getAttrs=function(){return e.$normalize(this)},e.$reset=function(){_.each(this,function(e,t){t.match(/^(\$|_)/)||(_.isArray(this[t])?this[t].$removeAll():this[t]=void 0)},this)},e}})}(),function(){var e;domain.service("$history",function(){if(e)return e;var t=Wires.Class.extend({initialize:function(){var e=this;this.events={},window.onpopstate=function(){e.trigger("change")}},trigger:function(e){_.isArray(this.events[e])&&_.each(this.events[e],function(e){e()})},on:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},go:function(e){var t={url:e};history.pushState(t,e,e),this.trigger("change")}});return e=new t})}(),function(){domain.register("$http",function(){return{_request:function(e,t,n,r,i){var a={url:t,contentType:"application/json; charset=UTF-8",method:e,data:JSON.stringify(n),dataType:"json"};"GET"===e&&(a.data=n);var o=$.ajax(a);o.always(function(e,t){return"success"!==t?i({status:e.status,message:e.responseJSON||e.statusText}):r(e)})},"delete":function(e,t){var n=this;return new Promise(function(r,i){n._request("DELETE",e,t,function(e){r(e)},function(e){i(e)})})},getHTML:function(e){return new Promise(function(t,n){$.get(e,function(e){return e=e.replace(/(\r\n|\n|\r)/gm,""),t(e)})})},get:function(e,t){var n=this;return new Promise(function(r,i){n._request("GET",e,t,function(e){r(e)},function(e){i(e)})})},post:function(e,t){var n=this;return new Promise(function(r,i){n._request("POST",e,t,function(e){r(e)},function(e){i(e)})})},put:function(e,t){var n=this;return new Promise(function(r,i){n._request("PUT",e,t,function(e){r(e)},function(e){i(e)})})}}})}(),function(){var e=0;domain.service("$load",["$queryString","$loadView","$run"],function(t,n,r){return{component:function(e,t){},extractViewAndTarget:function(e){var t=e.match(/^([^\s]+)(\s*->\s*([^\s]+))?/i);return{view:t[1],targetSelector:t[3]||"section"}},controller:function(i,a){{var o=this;window.location.url}a=a||{};var s=a.parent,c=t();a.params&&(c=_.merge(c,a.params));var u={$params:{target:c}};return a.injections&&_.each(a.injections,function(e,t){u[t]={target:e}}),domain.require([i],u,function(t){e++;var i,a,c;if(_.isArray(t)){var u=o.extractViewAndTarget(t[0]);a=t[1],i=u.view,c=u.targetSelector}else if(_.isObject(t)&&t.prototype&&t.prototype._view){var l=o.extractViewAndTarget(t.prototype._view);i=l.view,a=t,c=l.targetSelector}var f=null;if(f=s&&s.element?$(s.element).find(c)[0]:document.querySelector(c),!f)throw{message:"Can't find a target "};var p=new a;return f.$tag&&f.$tag.gc&&f.$tag.gc(!0),$(f).empty(),n(i).then(function(e){return r({structure:e,target:f,scope:p}),{scope:p,element:f}})})}}})}(),function(){var e;domain.service("$projectAnimations",function(){return e?e:new Promise(function(t,n){domain.requirePackage("animations").then(function(n){return e={},_.each(n,function(t,n){var r=n.slice(11,n.length);e[r]=t}),t(e)})})})}(),function(){var e;domain.service("$projectProxies",function(){return e?e:new Promise(function(t,n){domain.requirePackage("proxies").then(function(n){return e={},_.each(n,function(t,n){var r=n.slice(8,n.length);e[r]=t}),t(e)})})})}(),function(){var e;domain.service("$projectValidators",function(){return e?e:new Promise(function(t,n){domain.requirePackage("validators").then(function(n){return e={},_.each(n,function(t,n){var r=n.slice(11,n.length);e[r]=t}),t(e)})})})}(),function(){domain.service("$queryString",function(){var e=function(){for(var e={},t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if("undefined"==typeof e[i[0]])e[i[0]]=decodeURIComponent(i[1]);else if("string"==typeof e[i[0]]){var a=[e[i[0]],decodeURIComponent(i[1])];e[i[0]]=a}else e[i[0]].push(decodeURIComponent(i[1]))}return e};return e})}(),function(){var e=Wires.Class.extend({initialize:function(){this.states=[],this.loaded=!1},set:function(e,t,n){this.route=e,this.controller=t,this.states=n},getControllerPath:function(){return"controllers."+this.controller},matches:function(){var e,t=window.location.pathname,n=[],r=pathToRegexp(this.route,n),i={};return(e=r.exec(t))?(_.each(n,function(t,n){i[t.name]=e[n+1]}),i):void 0}}),t=new e;domain.register("$router",["$load","$queryString","$loadView","$run","$history"],function(n,r,i,a,o){return{add:function(){var e=this.state.apply(this,arguments);t.states.push(e)},state:function(t,n,r){var i=new e;return i.set.apply(i,arguments),i},_start:function(e){var t=this;_.each(e.states,function(e){var n;return(n=e.matches())?(t.stack.push(e),e.states&&t._start(e),!1):void 0})},loadStates:function(e){var t,r=((new Date).getTime(),this);return r.historyStack=r.historyStack||[],domain.each(e,function(i,a){var o=r.historyStack[a],s=a+1===e.length;return o&&!s&&o.route===i.route?void(t=i.parent):n.controller(i.getControllerPath(),{parent:t}).then(function(e){i.loaded=!0,i.parent=e,t=e})}).then(function(e){r.historyStack=[],_.each(r.stack,function(e){r.historyStack.push(e)}),r.stack=[]})["catch"](function(e){console.error(e||e.stack)})},start:function(){var e=this;e.stack=[],e._start(t),e.loadStates(e.stack),o.on("change",function(n){e.stack=[],e._start(t),e.loadStates(e.stack)})}}})}(),function(){domain.service("Conditional",["TagNode","$array","$watch","$evaluate","$pathObject","GarbageCollector"],function(e,t,n,r,i,a){return a.extend({initialize:function(t){var n=this;this.item=t.item,this.run=t.run,this.parent=t.parent,this.scope=t.scope;var a=n.item.c[0];if(a.a&&a.a["ws-bind"]){var o=a.a["ws-bind"];if(_.values(o.vars).length>0){var s=_.values(o.vars)[0];this.attachedScopePath=s.p}}this.element=document.createComment(" if "),this.parent.addChild(this),this.watchers=r(this.item.z,{scope:n.scope,element:{},target:{},changed:function(t){if(t.expressions&&t.expressions.length>0){var r=t.expressions[0].value;if(r){if(void 0===n.parentElement){var o=n.scope;n.attachedScopePath&&(o=i(n.attachedScopePath,o).value);var s=new e(a,o);s.create(),n.parentElement=s.element;var c,u=a.c||[];a.a&&(c=a.a["ws-include"])&&(window.__wires_views__[c.tpl]?u=window.__wires_views__[c.tpl]:console.error(c.tpl+" was not found")),n.run({structure:u,parentNode:s,scope:o}),n.element.parentNode.insertBefore(s.element,n.element.nextSibling)}}else n.parentElement&&(n.parentElement.$tag?n.parentElement.$tag.gc():$(n.parentElement).remove(),n.parentElement=void 0)}}})}})})}(),function(){domain.service("GarbageCollector",function(){return Wires.Class.extend({gc:function(e){var t=this;if(this.element&&$(this.element).unbind(),t.detach&&t.detach(),t.attributes&&(_.each(t.attributes,function(e){e.watcher&&(_.isArray(e.watcher)?_.each(e.watcher,function(e){e.detach()}):e.watcher.detach()),_.isFunction(e.detach)&&e.detach()}),t.attributes.splice(0,t.attributes.length-1),delete t.attributes),t.watchers){var n=[].concat(t.watchers);_.each(n,function(e){e.detach()})}var r=function(){t.children&&_.each(t.children,function(e){e.gc()})};if(!e)if(t.element.$destroy){var i=t.element.$destroy();i instanceof Promise?i.then(function(){$(t.element).remove(),r()}):($(t.element).remove(),r())}else $(t.element).remove(),r()}})})}(),function(){domain.service("Include",["TagNode","$pathObject"],function(e,t){var n=e.extend({initialize:function(e){n.__super__.initialize.apply(this,[e.item,e.scope]),this.run=e.run},create:function(){n.__super__.create.apply(this,arguments);var e,r=this.element,i=this.item.a,a=this.scope;if(e=window.__wires_views__[this.item.v]){if(i&&i["ws-bind"]){var o=i["ws-bind"];_.values(o.vars).length>0&&(a=t(_.values(o.vars)[0].p,this.scope).value)}this.run({structure:e,target:r,scope:a})}else console.error(this.item.v+" was not found!")}});return n})}(),function(){domain.service("Proxy",function(){return Wires.Class.extend({initialize:function(){this.callbacks=[],this._changed=1,this.init()},init:function(){},update:function(){this._changed=1},addCallback:function(e,t){var n=e.bind({proxy:this,path:t});this.callbacks.push(n),n(null,this.get(t))},get:function(e){}})})}(),domain.service("Repeater",["TagNode","$pathObject","$array","$watch","GarbageCollector"],function(e,t,n,r,i){return i.extend({initialize:function(e){var i=this;this.item=e.item,this.run=e.run,this.parent=e.parent,this.scope=e.scope;var a=this.item.v;if(!a.vars)throw{error:"Repeater expects variables! e.g $item in items"};if(2!==_.keys(a.vars).length)throw{error:"Repeater expects 2 variables. Scope key and Target Array (e.g $item in items)"};this.scopeKey=a.vars.__v0.p.join(""),r(a.vars.__v1.p,this.scope,function(e,t){i.array=n(t),i.element||(i.element=document.createComment("repeat "+i.scopeKey),i.parent.addChild(i)),i.assign()});var o=t(a.vars.__v1.p,this.scope),s=o.value?o.value:o.update([]);this.array=n(s),this.element=document.createComment("repeat "+this.scopeKey),this.parent.addChild(this),this.assign()},assign:function(){this.watchers=this.array.$watch(this.onEvent.bind(this)),this._arrayElements=[],this.createInitialElements()},createInitialElements:function(){var e=this;_.each(this.array,function(t){e.addItem(t)})},detach:function(){_.each(this._arrayElements,function(e){e.node.element&&e.node.element.$tag&&e.node.element.$tag.gc()}),this._arrayElements.splice(0,this._arrayElements.length)},addItem:function(t){var n=this.item.i[0],r={parent:this.scope,index:this._arrayElements.length};r[this.scopeKey]=t;var i=new e(n,r);i.create();var a=this.element,o=this._arrayElements.length;o>0&&(a=this._arrayElements[o-1]);var s=a.node?a.node.element:a;s.parentNode.insertBefore(i.element,s.nextSibling),this._arrayElements.push({node:i,localScope:r}),this.element.$scope=r,this.element.$tag=self,this.run({structure:n.c||[],parentNode:i,scope:r})},removeItem:function(e,t){for(var n=e;e+t>n;n++)if(this._arrayElements[n]){var r=this._arrayElements[n].node.element;r.$tag.gc()}this._arrayElements.splice(e,t),_.each(this._arrayElements,function(e,t){e.localScope.index=t})},onEvent:function(e,t,n){"push"===e&&this.addItem(t),"splice"===e&&this.removeItem(t,n)}})}),domain.service("TagAttribute",["GarbageCollector","$evaluate"],function(e,t){var n=e.extend({initialize:function(e,t){this.attr=e.attr,this.name=e.name,this.scope=e.scope,this.element=e.element,this.item=t},create:function(){this.attribute=document.createAttribute(this.name),this.element.setAttributeNode(this.attribute),this.watcher=this.startWatching()},onValue:function(e){this.attribute.value=e.str},startWatching:function(){var e=this;return t(this.attr,{scope:this.scope,changed:function(t){e.onExpression?t.expressions&&t.expressions.length>0?e.onExpression.bind(e)(t.expressions[0]):e.onExpression.bind(e)():e.onValue&&e.onValue.bind(e)(t)}})}});return n}),domain.service("$tagAttrs",["TagAttribute","$evaluate","$customAttributes"],function(e,t,n){return{create:function(t,r,i){var a=[];return _.each(t.a,function(o,s){var c,u="attrs."+s,l={scope:r,attr:o,name:s,element:i};c=n[u]?new n[u](l,t):new e(l,t),c?(c.create(),a.push(c)):console.log("no attr",u)}),a}}}),domain.service("TagNode",["$tagAttrs","GarbageCollector"],function(e,t){return t.extend({initialize:function(e,t){this.item=e,this.scope=t,this.children=[]},setElement:function(e){this.element=e,this.element.$scope=this.scope,this.element.$tag=this},create:function(e){var t=document.createElement(this.item.n);return this.item.a&&this.item.a["ws-animation"]&&$(t).hide(),this.setElement(t),e&&e.addChild(this),this.startWatching(),this.element},addChild:function(e){$(this.element).append(e.element),this.children.push(e)},startWatching:function(){this.attributes=e.create(this.item,this.scope,this.element);

}})}),function(){domain.service("TextNode",["$evaluate","GarbageCollector"],function(e,t){return t.extend({initialize:function(e,t){this.item=e,this.scope=t},create:function(t){var n=this;this.firstLoad=!0;var r=watcher=e(this.item.d,{scope:this.scope,changed:function(e){n.firstLoad===!1&&(n.element.nodeValue=e.str),n.firstLoad=!1}});return this.watchers=r,this.element=document.createTextNode(r.str),t&&t.addChild(this),this.element}})})}(),function(){domain.service("$array",["$http","$resource","$restEndPoint"],function(e,t,n){return function(r,i){var a,o;_.isArray(r)?(o=r,a=i||{}):(o=[],a=_.isPlainObject(r)?r:{});var s=a.endpoint;if(_.isString(r)&&(s=r),o.$watch)return o;var c=[],u=function(){var e=arguments;_.each(c,function(t){t&&t.apply(null,e)})};return o.$watch=function(e){return c.push(e),{detach:function(){var t=c.indexOf(e);c.splice(t,1)}}},o.$removeAll=function(){o.splice(0,o.length)},o.$empty=function(){this.$removeAll()},o.$destroy=function(){o.$removeAll(),_.each(c,function(e){delete c[e]}),c=void 0},o.$fetch=function(r){var i=this;return new Promise(function(r,a){var o=o||{};if(!s)throw{message:"Can't fetch without the endpoint!"};var c=n(s,o);return e.get(c,o).then(function(e){return i.$removeAll(),_.each(e,function(e){i.push(t(e,{endpoint:s,array:i}))}),r(i)})["catch"](a)})},o.$add=function(){var r=this,i=_.flatten(arguments);return new Promise(function(a,c){return domain.each(i,function(t){var r=_.isFunction(t.$getAttrs)?t.$getAttrs():r;if(t.$err&&(t.$err=void 0),s){var i=n(s,r);return e.post(i,r)}return t}).then(function(e){return _.each(e,function(e){o.push(t(e,{endpoint:s,array:r}))}),a(e)})["catch"](function(e){return _.each(i,function(t){t.$err=e.message&&e.message.message?e.message.message:e}),c(e)})})},o.size=o.length,o.push=function(e){e=_.isFunction(e.$getAttrs)?e.$getAttrs():e;var t=Array.prototype.push.apply(this,[e]);return u("push",e),o.size=o.length,t},o.splice=function(e,t){u("splice",e,t);var n=Array.prototype.splice.apply(this,arguments);return o.size=o.length,n},o.$remove=function(e){return _.isObject(e)&&(e=this.indexOf(e)),this.splice(e,1)},o}})}(),domain.service("Controller",["$run"],function(e){return Wires.Class.extend({initialize:function(){},render:function(){if(this._view){var t=this._view.match(/^([^\s]+)(\s*->\s*([^\s]+))?/i),n=t[1],r=t[3]||"section",i=document.querySelector(r);if(!i)throw{message:"Can't run. Selector "+r+" for "+n+" in controller + "+this+" was not found "};if(this.__target=i,!window.__wires_views__[n])throw{message:"'"+n+"' has not been compiled!"};this.stack=e({structure:window.__wires_views__[n],target:i,scope:this})}},destroy:function(){_.each(this.stack.children,function(e){e.gc()})}})}),function(){domain.service("$resource",["$restEndPoint","$http"],function(t,n){return function(r,i){var a,o,s={};_.isObject(r)&&(a=r||{},s=i||{},o=s.endpoint),_.isString(r)&&(o=r,a={});var c=s.array;return a.$reset=function(){_.each(this,function(e,t){t.match(/^(\$|_)/)||(this[t]=void 0)},this)},a.$fetch=function(e){return new Promise(function(r,i){if(o){var s=e||{},c=t(o,s);n.get(c,s).then(function(e){return _.each(e,function(e,t){a[t]=e}),r(a)})["catch"](function(e){return i(e)})}})},a.$remove=function(){return new Promise(function(r,i){if(o){var s=t(o,a);n["delete"](s).then(function(){return c&&c.$remove(a),a.$reset(),r()})["catch"](function(){return i(e)})}else if(c)return c.$remove(a),r()})},a}})}(),function(){domain.service("attrs.ws-animation",["TagAttribute","$evaluate","$projectAnimations"],function(e,t,n){var r=e.extend({create:function(){var e=this,r=t(e.attr,{scope:e.scope,element:e.element,target:this.scope,watchVariables:!1});if(r.str){this.animationType=r.str;{var i;$(this.element)}(i=n[this.animationType])&&_.isPlainObject(i)&&(i.onCreate&&i.onCreate.bind(e.element)(),i.onDestroy&&(e.element.$destroy=i.onDestroy),i.animate&&(e.element.$animate=i.animate))}}});return r})}(),function(){domain.service("attrs.ws-checked",["TagAttribute","$array"],function(e,t){var n=e.extend({create:function(){var e=this.element.$variable;e&&(this.currentValue=e.value.value),this.watcher=[],this.watcher.push(this.startWatching()),this.arrayWatcher=!1},onValue:function(e){var n=this;if(this.selfUpdate===!0)return void(this.selfUpdate=!1);var r=e.locals[0].value,i=e.locals[0].value.value;if(this.element.$checked=r,_.isArray(i)){if(i=t(i),!this.arrayWatcher){this.watcherCreated=!0;var a=function(){var e=!1;_.each(i,function(t){_.isEqual(t,n.currentValue)&&(e=!0)}),n.element.checked=e};this.arrayWatcher=i.$watch(function(e,t,n){$defered(function(){a()})}),n.watcher.push(n.arrayWatcher)}if(this.currentValue){var o=i.indexOf(this.currentValue)>-1;this.element.checked=o?!0:!1}}else this.selfUpdate=!0,this.element.checked=i?!0:!1}});return n})}(),function(){domain.service("attrs.ws-class",["TagAttribute"],function(e){var t=e.extend({create:function(){this.watcher=this.startWatching()},onExpression:function(e){var t=$(this.element);e&&_.isPlainObject(e.value)&&_.each(e.value,function(e,n){e?t.hasClass(n)||t.addClass(n):t.removeClass(n)})}});return t})}(),function(){domain.service("attrs.ws-click",["TagAttribute","$evaluate"],function(e,t){var n=e.extend({detach:function(){this.element&&this.element.removeEventListener(this.eventName,this.elementClicked)},create:function(){var e=this;this.elementClicked=function(n){{var r=n.target;t(e.attr,{scope:e.scope,element:r,target:{scope:r.$scope,element:e.element},watchVariables:!1})}n.preventDefault()},this.eventName=window.isMobile?"touchend":"click",this.clickListener=this.element.addEventListener(this.eventName,this.elementClicked)}});return n})}(),function(){var e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t=function(e){var t={x:e.clientX,y:e.clientY};if(e.originalEvent.touches){var n;(n=e.originalEvent.touches[0])&&(t.x=n.clientX,t.y=n.clientY)}return t};domain.service("attrs.ws-drag",["TagAttribute","$evaluate"],function(n,r){var i=n.extend({create:function(){var n=this,i=function(e){var t=e.e.originalEvent?e.e.originalEvent.target:e.e.target;e.target=t.$scope,e.element=t;r(n.attr,{scope:n.scope,target:e,watchVariables:!1})},a=window.isMobile;$(this.element).bind(a?"touchstart":"mousedown",function(n){e&&n.preventDefault();var r=t(n);i({e:n,coords:r,type:"start"}),$(this).bind(a?"touchmove":"mousemove",function(e){var n=r.x-t(e).x,a=r.y-t(e).y,o={x:n,y:a,dy:0>a?"down":"up",dx:0>n?"right":"left"};i({e:e,coords:o,type:"move"})}),$(this).bind(a?"touchend touchleave touchcancel":"mouseup",function(t){e&&t.preventDefault(),i({e:t,type:"stop"}),$(this).unbind("mouseup mousemove")})})}});return i})}(),function(){domain.service("attrs.ws-href",["TagAttribute","$history"],function(e,t){var n=e.extend({create:function(){this.watcher=this.startWatching()},detach:function(){this.element&&this.element.removeEventListener("click",this.clickListener)},onValue:function(e){if(e&&e.str){var n=e.str;"A"===this.element.nodeName&&this.element.setAttribute("href",n),this.clickListener=this.element.addEventListener("click",function(e){e.preventDefault(),t.go(n)})}}});return n})}(),function(){domain.service("attrs.ws-submit",["TagAttribute","$evaluate"],function(e,t){var n=e.extend({detach:function(){this.submitListener&&this.element.removeEventListener("submit",this.submitListener)},create:function(){var e=this;this.submitListener=function(n){try{t(e.attr,{scope:e.scope,element:n.target,target:{scope:n.target.$scope,element:n.target},watchVariables:!1})}catch(r){console.error(r.stack||r)}n.preventDefault()},this.element.addEventListener("submit",this.submitListener)}});return n})}(),function(){domain.service("attrs.ws-value",["TagAttribute","$evaluate","$projectValidators"],function(e,t,n){var r=e.extend({create:function(){this.watcher=this.startWatching();var e=this.item.validate;e&&(this.validators=[],_.each(e,function(e){n[e.n]&&this.validators.push({validator:n[e.n],item:e})},this))},detach:function(){this.keyDownListener&&this.element.removeEventListener("keydown",this.keyDownListener),this.clickListener&&this.element.removeEventListener("click",this.clickListener),delete this.validatonDelay},checkValidations:function(e){var t=this;t.validators&&(clearInterval(this.validatonDelay),this.validatonDelay=setTimeout(function(){_.each(t.validators,function(n){var r=n.item.a?n.item.a:[],i=n.validator.cls,a=n.validator.validate.apply(e,r);void 0!==a?$(t.element).hasClass(i)||$(t.element).addClass(i):$(t.element).hasClass(i)&&$(t.element).removeClass(i)})},500))},startWatching:function(){var e=this;this.selfUpdate=!1;var n=t(this.attr,{scope:this.scope,changed:function(t){e.checkValidations(t),e.selfUpdate===!1&&e.setValue(t.str),e.selfUpdate=!1}});return n.locals&&1===n.locals.length&&(this.variable=n.locals[0]),this.element.$variable=this.variable,this.bindActions(function(t){e.variable&&(e.selfUpdate=!0,e.variable.value.update(t))}),n},setValue:function(e){$(this.element).val(e)},bindActions:function(e){var t=this,n=this.element.nodeName.toLowerCase(),r=$(this.element).attr("type");switch("textarea"===n&&(r=n),"select"===n&&(r=n),"option"===n&&(r=n),"input"!==n||r||(r="text"),r){case"text":case"email":case"date":case"datetime":case"month":case"search":case"url":case"tel":case"password":case"textarea":this.keyDownListener=function(n){var r=this;clearInterval(t.interval),t.interval=setTimeout(function(){e($(r).val())},200)},this.element.addEventListener("keydown",this.keyDownListener,!1);break;case"checkbox":this.clickListener=function(e){var n=this.$checked;if(_.isArray(n.value)){var r=t.variable.value.value,i=n.value.indexOf(r);this.checked?-1===i&&n.value.push(r):i>-1&&n.value.splice(i,1)}else t.selfUpdate=!0,t.variable.value.update(this.checked)},this.element.addEventListener("click",this.clickListener);break;case"option":break;case"select":$(this.element).change(function(){var n=t.detectSelectValue();e(n)}),$defered(function(){if(void 0!==t.variable.value.value)$(t.element).find("option").each(function(e,n){n.$variable&&_.isEqual(n.$variable.value.value,t.variable.value.value)&&(n.selected=!0)});else{var e=t.detectSelectValue(!0);t.selfUpdate=!0,t.variable.value.update(e)}})}},detectSelectValue:function(e){var t;return $(this.element).find(e?"option:first":"option:selected").each(function(){var e=this,n=this.$tag,r=this.$variable;r?t=r.value.value:(_.each(n.attributes,function(n){"value"===n.name&&(t=$(e).val())}),void 0===t&&(t=$(e).html()))}),t}});return r})}(),function(){domain.service("attrs.ws-visible",["TagAttribute"],function(e){var t=e.extend({create:function(){this.watcher=this.startWatching()},onExpression:function(e){e&&(e.value?$(this.element).show(0):$(this.element).hide(0))}});return t})}(),domain.service("animations.ws-fade",function(){return{animate:function(){$(this).velocity({rotateX:90}).velocity({rotateX:1})},onCreate:function(){var e=$(this);e.css("opacity",0).show().velocity({opacity:1},{duration:400})},onDestroy:function(){var e=$(this);return new Promise(function(t,n){e.velocity({opacity:0},{duration:400,complete:t})})}}}),domain.service("animations.ws-spring",function(){return{onCreate:function(){var e=$(this);e.show().velocity({scale:0,opacity:0},{duration:1}).velocity({scale:1,opacity:1},{easing:[250,15]})},onDestroy:function(){var e=$(this);return new Promise(function(t,n){e.velocity({scale:0,opacity:0},{duration:200,complete:t})})}}});